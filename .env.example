# =================================================================
# CORE DJANGO SETTINGS
# =================================================================
# Set to False for production for security and performance.
DJANGO_DEBUG=False

# Prevent HTTP to HTTPS redirect when SSL is not configured
DJANGO_SECURE_SSL_REDIRECT=False

# IMPORTANT: Generate a new, strong secret key for production.
# You can generate one using: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=your-super-secret-and-long-random-string-goes-here

# =================================================================
# NETWORKING & SECURITY
# =================================================================
# Comma-separated list of all host/domain names that can serve your site.
ALLOWED_HOSTS=localhost,127.0.0.1

# Comma-separated list of your frontend's production URL(s).
CORS_ALLOWED_ORIGINS=http://localhost:3000

# List of trusted origins for unsafe requests (e.g. POST).
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# =================================================================
# DATABASE (PostgreSQL)
# =================================================================
DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=ovii_db
DATABASE_USER=ovii_user
DATABASE_PASSWORD=your_database_password
DATABASE_HOST=localhost
DATABASE_PORT=5432

# PostgreSQL-specific environment variables (for Docker container)
# These should match DATABASE_NAME and DATABASE_USER above
# IMPORTANT: Always set these to avoid Docker Compose warnings
POSTGRES_DB=ovii_db
POSTGRES_USER=ovii_user
POSTGRES_PASSWORD=your_database_password

# =================================================================
# REDIS
# =================================================================
REDIS_HOST=localhost
REDIS_PORT=6379

# =================================================================
# WHATSAPP CLOUD API
# =================================================================
# WhatsApp Business Account ID (WABA ID) - Required for automated template sync
# Find this in Meta Business Manager -> WhatsApp Business Account -> Settings
WHATSAPP_WABA_ID=your_waba_id

# WhatsApp Business Account Phone Number ID (from Meta Business Manager)
# Find this in Meta Business Manager -> WhatsApp Business Account -> Phone Numbers
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# WhatsApp Business API Access Token (from Meta for Developers)
# Generate from Meta for Developers -> App Dashboard -> WhatsApp -> API Setup
WHATSAPP_ACCESS_TOKEN=your_access_token

# WhatsApp API Version (e.g., v18.0, v19.0, v24.0)
WHATSAPP_API_VERSION=v24.0

# Webhook Verification Token (set this in Meta developer console)
# Generate a secure token: python -c "import secrets; print(secrets.token_urlsafe(32))"
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token

# =================================================================
# WHATSAPP WEBHOOK CONFIGURATION
# =================================================================
# Webhook URL Configuration:
# Your webhook URL should be: https://your-domain.com/api/integrations/whatsapp/webhook/
# 
# Setup in Meta Developer Console:
# 1. Go to Meta for Developers (https://developers.facebook.com/)
# 2. Select your app -> WhatsApp -> Configuration
# 3. In "Webhook" section, click "Edit"
# 4. Set Callback URL to: https://your-domain.com/api/integrations/whatsapp/webhook/
#    Example: https://api.ovii.it.com/api/integrations/whatsapp/webhook/
# 5. Set Verify Token to match WHATSAPP_WEBHOOK_VERIFY_TOKEN above
# 6. Click "Verify and Save"
# 7. Subscribe to webhook fields (messages, message_status, etc.)
#
# Production URL Example:
# WHATSAPP_WEBHOOK_URL=https://api.ovii.it.com/api/integrations/whatsapp/webhook/
